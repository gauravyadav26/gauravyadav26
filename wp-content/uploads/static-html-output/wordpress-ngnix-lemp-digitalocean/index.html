<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link media="all" href="https://yadavgaurav.com/wp-content/cache/autoptimize/css/autoptimize_83022226d9ae09deb35c2592c6842e96.css" rel="stylesheet"><title>Install WordPress Nginx (LEMP) on DigitalOcean</title><meta name="description" content="In this tutorial, we will install Ubuntu 18.04 or 20.04, Nginx, MariaDB, and PHP 7.4 but there a lot of options available to set up a server."><meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><link rel="canonical" href="https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Install WordPress Nginx (LEMP) on DigitalOcean"><meta property="og:description" content="In this tutorial, we will install Ubuntu 18.04 or 20.04, Nginx, MariaDB, and PHP 7.4 but there a lot of options available to set up a server."><meta property="og:url" content="https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/"><meta property="og:site_name" content="Gaurav Yadav"><meta property="article:published_time" content="2020-01-24T09:53:10+00:00"><meta property="article:modified_time" content="2020-09-05T18:57:56+00:00"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://yadavgaurav.com/wp-content/uploads/2020/01/Install-WordPress-Nginx-LEMP-DigitalOcean.svg"> <script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://yadavgaurav.com/#website","url":"https://yadavgaurav.com/","name":"Gaurav Yadav","description":"How To Develop","publisher":{"@id":"https://yadavgaurav.com/#/schema/person/6c1c16ca9efb0b1dc4927f69ed0771f9"},"potentialAction":[{"@type":"SearchAction","target":"https://yadavgaurav.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#primaryimage","inLanguage":"en-US","url":"https://yadavgaurav.com/wp-content/uploads/2020/01/Install-WordPress-Nginx-LEMP-DigitalOcean.svg","caption":"Install WordPress Nginx (LEMP) on DigitalOcean"},{"@type":"WebPage","@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#webpage","url":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/","name":"Install WordPress Nginx (LEMP) on DigitalOcean","isPartOf":{"@id":"https://yadavgaurav.com/#website"},"primaryImageOfPage":{"@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#primaryimage"},"datePublished":"2020-01-24T09:53:10+00:00","dateModified":"2020-09-05T18:57:56+00:00","description":"In this tutorial, we will install Ubuntu 18.04 or 20.04, Nginx, MariaDB, and PHP 7.4 but there a lot of options available to set up a server.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/"]}]},{"@type":"Article","@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#article","isPartOf":{"@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#webpage"},"author":{"@id":"https://yadavgaurav.com/#/schema/person/6c1c16ca9efb0b1dc4927f69ed0771f9"},"headline":"Install WordPress Nginx (LEMP) on DigitalOcean","datePublished":"2020-01-24T09:53:10+00:00","dateModified":"2020-09-05T18:57:56+00:00","mainEntityOfPage":{"@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#webpage"},"commentCount":4,"publisher":{"@id":"https://yadavgaurav.com/#/schema/person/6c1c16ca9efb0b1dc4927f69ed0771f9"},"image":{"@id":"https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#primaryimage"},"articleSection":"Digital Ocean,LEMP,Ngnix,WordPress","inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#respond"]}]},{"@type":["Person","Organization"],"@id":"https://yadavgaurav.com/#/schema/person/6c1c16ca9efb0b1dc4927f69ed0771f9","name":"Gaurav Yadav","image":{"@type":"ImageObject","@id":"https://yadavgaurav.com/#personlogo","inLanguage":"en-US","url":"","caption":"Gaurav Yadav"},"logo":{"@id":"https://yadavgaurav.com/#personlogo"}}]}</script> <link rel="alternate" type="application/rss+xml" title="Gaurav Yadav &raquo; Feed" href="https://yadavgaurav.com/feed/"><link rel="alternate" type="application/rss+xml" title="Gaurav Yadav &raquo; Comments Feed" href="https://yadavgaurav.com/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Gaurav Yadav &raquo; Install WordPress Nginx (LEMP) on DigitalOcean Comments Feed" href="https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/feed/"><link rel="alternate" type="application/json" href="https://yadavgaurav.com/wp-json/wp/v2/posts/190"><link rel="alternate" type="application/json+oembed" href="https://yadavgaurav.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fyadavgaurav.com%2Fwordpress-ngnix-lemp-digitalocean%2F"><link rel="alternate" type="text/xml+oembed" href="https://yadavgaurav.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fyadavgaurav.com%2Fwordpress-ngnix-lemp-digitalocean%2F&amp;format=xml"><style>.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style><link rel="icon" href="https://yadavgaurav.com/wp-content/uploads/2020/07/GY.png" sizes="32x32"><link rel="icon" href="https://yadavgaurav.com/wp-content/uploads/2020/07/GY.png" sizes="192x192"><link rel="apple-touch-icon" href="https://yadavgaurav.com/wp-content/uploads/2020/07/GY.png"><meta name="msapplication-TileImage" content="https://yadavgaurav.com/wp-content/uploads/2020/07/GY.png"></head><body class="post-template post-template-nosidebar-nofeatured-fullwidth post-template-nosidebar-nofeatured-fullwidth-php single single-post postid-190 single-format-standard wp-custom-logo"><div id="page" class="site"><header id="masthead" class="site-header"><div class="h-cont clear"><div class="site-branding"> <a href="https://yadavgaurav.com/" rel="home"><img src="https://yadavgaurav.com/wp-content/themes/svg/GY.svg" width="48" height="48" alt="Gaurav Yadav"></a> <a class="site-title" href="https://yadavgaurav.com/" rel="home">Gaurav Yadav</a></div><nav id="site-navigation" class="main-navigation clear"> <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false" aria-label="Menu"><div class="fas fa-bars"></div></button><div class="menu-top-nav-container"><ul id="primary-menu" class="menu"><li id="menu-item-265" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-265"><a href="https://yadavgaurav.com/services/">Services</a></li><li id="menu-item-266" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-266"><a href="https://yadavgaurav.com/projects/">Projects</a></li><li id="menu-item-123" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-123"><a href="https://yadavgaurav.com/blog/">Blog</a></li></ul></div></nav><div class="lang-h"></div></div></header><div id="content" class="site-content"><div id="primary" class="content-area"><main id="main" class="site-main"><article id="post-190" class="post-190 post type-post status-publish format-standard has-post-thumbnail hentry category-digital-ocean category-lemp category-ngnix category-wordpress"><header class="entry-header"><div class="container"><div class="gy-grid entry-grid"><h1 class="entry-title">Install WordPress Nginx (LEMP) on DigitalOcean</h1><div class="post-thumbnail"> <img width="598" height="359" src="https://yadavgaurav.com/wp-content/uploads/2020/01/Install-WordPress-Nginx-LEMP-DigitalOcean.svg" class="attachment-598x359 size-598x359 wp-post-image" alt="Install WordPress Nginx (LEMP) on DigitalOcean" loading="lazy" srcset="https://yadavgaurav.com/wp-content/uploads//2020/01/Install-WordPress-Nginx-LEMP-DigitalOcean.svg 200w,https://yadavgaurav.com/wp-content/uploads//2020/01/Install-WordPress-Nginx-LEMP-DigitalOcean.svg 800w" sizes="(max-width: 598px) 100vw, 598px"></div></div></div></header><div class="entry-meta"><div class="container entry-b"> <span class="posted-on"><time class="entry-date published" datetime="2020-01-24T15:23:10+05:30">January 24, 2020</time><time class="updated" datetime="2020-09-06T00:27:56+05:30">September 6, 2020</time></span><span class="byline"> <span class="author vcard">Gaurav Yadav</span></span></div></div><div class="entry-content"><style>.steps-install{background-color:#f5784f;color:#fff;}h2,h3{text-align:center;}.p-white{background: #fff;border-left:3px solid #1943aa;padding-left:10px;}.p-black{background: #222;border-left:3px solid #1943aa;padding-left:10px;}.p-grey{background: #eee;border-left:3px solid #1943aa;padding-left:10px;}</style><div class="container" style="background: #fff;"><p>Installing WordPress on a LEMP (Nginx) server is one of the best configurations for someone who wants to host and manage their own server.</p><h3>Why Nginx?</h3><p>Nginx is fast and can handle thousands of requests at once, which makes it a really good choice as a server.</p><h3>Why WordPress?</h3><p>WordPress powers almost 30% of the internet and is the most popular CMS. WordPress allows us to build a website in just 5 minutes and just a few clicks. To run WordPress (self-hosted version) one needs a hosting server that is fast and powerful.</p><h3>Hosting Server</h3><p>There are a lot of hosting providers from which you can choose, below are a few which we have tested and recommend.</p><p>Shared Hosting (Good for Beginners)</p><ul><li><a href="https://www.bluehost.com/track/pokegym/" target="_blank" rel="noopener noreferrer">Bluehost</a></li></ul><p>Cloud Hosting</p><ul><li><a href="https://m.do.co/c/9e15151084aa" target="_blank" rel="noopener noreferrer">DigitalOcean:</a> Best Unmanaged Hosting ($100 Signup Bonus)</li><li><a href="https://www.cloudways.com/en/?id=150449" target="_blank" rel="noopener noreferrer">CloudWays:</a> Best Managed Hosting</li></ul><p>WordPress needs a server setup to run and in this guide, we will learn how to install WordPress on LEMP stack (Linux (Ubuntu 18.04 or 20.04), Ngnix, MySQL/MariaDB and PHP) on a DigitalOcean server.</p><p>DigitalOcean servers are known as Droplets (starts at $0.007/hour or $5/month)</p><ul><li>1GB of RAM</li><li>25GB of SSD storage space</li><li>1TB of bandwidth</li><li>1 unit of vCPU (virtual CPU) power</li></ul><h3>What is LEMP?</h3><p>LEMP stands for Linux, Nginx, MySQL, and PHP (things needed to run WordPress on a server).</p><p>In this tutorial, we will install Ubuntu 18.04 or 20.04, Nginx, MariaDB, and PHP 7.4 but there a lot of options available to set up a server. We recommend this server setup as:</p><ul><li>Ubuntu 20.04 is the best OS for server setup</li><li>Nginx performs better at handling large traffic (Read <a href="https://serverguy.com/comparison/apache-vs-nginx/" target="_blank" rel="noopener noreferrer">Ngnix vs Apache</a> and <a href="https://www.digitalocean.com/community/tutorials/apache-vs-nginx-practical-considerations" target="_blank" rel="noopener noreferrer">Ngnix vs Apache Practical considerations</a>)</li><li>MariaDB (A <a href="https://kinsta.com/blog/mariadb-vs-mysql/" target="_blank" rel="noopener noreferrer">Kinsta article</a>&nbsp;to know about MySQL and MariaDB)</li><li>PHP 7.4 (Latest and fastest PHP version)</li></ul></div><div class="steps-install"><div class="container"><h2>Step by Step installation guide for WordPress (LEMP) on DigitalOcean:</h2><p class="head-center">If you have not bought hosting yet use this <a href="https://m.do.co/c/9e15151084aa" target="_blank" rel="noopener noreferrer">DigitalOcean link</a> to get <strong>$100 credit</strong>.</p><p><img loading="lazy" class="aligncenter wp-image-204 size-full" src="https://yadavgaurav.com/wp-content/uploads/2019/12/Create-Droplet.png" alt="Create Droplet DigitalOcean WordPress" width="820" height="376" srcset="https://yadavgaurav.com/wp-content/uploads/2019/12/Create-Droplet.png 820w,https://yadavgaurav.com/wp-content/uploads/2019/12/Create-Droplet-800x367.png 800w,https://yadavgaurav.com/wp-content/uploads/2019/12/Create-Droplet-768x352.png 768w" sizes="(max-width: 820px) 100vw, 820px"></p><p>Create a droplet by clicking &ldquo;Get Started with a Droplet&rdquo;</p><p>On the Create droplet page select the following options:</p><ol><li>Choose an image: Select Ubuntu 18.04 or 20.04</li><li>Choose a plan: Standard ($5 plan) is enough or choose according to your requirements.</li><li>Choose a datacenter region according to your target audience.</li><li>Select additional options: check IPv6.</li><li>Authentication: SSH is more secure.</li><li>Choose a hostname: Name of your droplet.</li></ol><p>Finally, click on create a droplet. You will receive an email on your registered email address with a login and password.</p></div></div><div class="container" style="background: #fff;"><p>These login credentials will be used to login to the server. To do so click on the droplet name you just created, and then click on the Access Tab.</p><p>Now you will see the option &ldquo;Launch Console&rdquo;, click on it to access your droplet remotely.</p><p>A new tab will open up with terminal access. Now will need to login to the server as username &ldquo;root&rdquo; (username and password you received in the email).</p><p><img loading="lazy" class="size-full wp-image-221 aligncenter" src="https://yadavgaurav.com/wp-content/uploads/2020/01/set-password.jpg" alt="Password Reset" width="643" height="503" srcset="https://yadavgaurav.com/wp-content/uploads/2020/01/set-password.jpg 643w,https://yadavgaurav.com/wp-content/uploads/2020/01/set-password-614x480.jpg 614w" sizes="(max-width: 643px) 100vw, 643px"></p><p>Enter the password from the email and press enter. You will be prompted to set a new password (you need to remember the new password so store it somewhere secure).</p><p>Now that we have access to the server, will install Nginx, MySQL, and PHP on Ubuntu 18.04 or 20.04, which has already been installed on your Digitalocean server.</p><p>Note: All the commands that are to be used have a white or black background and commands are case sensitive. Press Enter after typing the command to run.</p></div><div class="container" style="background: #ddd;"><p>First, we will update our system:</p><p>Check for updates:</p><p class="p-white">sudo apt update</p><p>Update all the thing for which an update was found:</p><p class="p-white">sudo apt upgrade -y</p><p>A prompt will come up with options, form that select &ldquo;Keep the local version currently installed&rdquo;.</p><p class="p-white">sudo apt dist-upgrade</p><p>Time for some cleanup and reboot:</p><p class="p-white">sudo apt autoclean</p><p class="p-white">sudo apt autoremove</p><p class="p-white">sudo reboot</p><h3>Install MariaDB</h3><p class="p-white">sudo apt install mariadb-server -y</p><p>Secure the database.</p><p class="p-white">sudo mysql_secure_installation</p><p>Now you will see the following questions</p><p class="p-white">Enter current password for root (enter for none): <strong>Press Enter key<br></strong>Set root password? [Y/n]: <strong>Y then Press Enter key<br></strong>New password: <strong>password<br></strong>Re-enter new password: <strong>password</strong><strong><br></strong></p><p>If successful following prompt will be shown &ldquo;Password updated successfully! Reloading privilege tables..&nbsp; &nbsp;&hellip; Success!&rdquo;</p><p>Answer the next 4 questions as Yes(Y).</p><p class="p-white">Remove anonymous users? [Y/n]: <strong>Y</strong><br>Disallow root login remotely? [Y/n]: <strong>Y</strong><br>Remove test database and access to it? [Y/n]: <strong>Y</strong><br>Reload privilege tables now? [Y/n]: <strong>Y</strong></p><h4>New Database Creation For WordPress</h4><p>Login MariaDB</p><p class="p-white">sudo mysql -u root -p</p><p>It will ask for a password, enter the password you just created (remember password won&rsquo;t be visible but it is being typed).</p><h4>New Database and Privileges</h4><p>Create a database named &ldquo;wordpress&rdquo;, you can change the name if you want.</p><p class="p-white">create database wordpress;</p><p>Granting permissions of database &ldquo;wordpress&rdquo; to user &ldquo;gaurav&rdquo; with password &ldquo;wUt7xg3K5DVWgP6P&rdquo;. This is your password for the database &ldquo;wordpress&rdquo; and different from the MariaDB password.</p><p class="p-white">grant all on wordpress.* to gaurav@localhost identified by &lsquo;wUt7xg3K5DVWgP6P&rsquo;;</p><p class="p-white">flush privileges;</p><p class="p-white">exit;</p><h3>Install PHP and other modules for WordPress.</h3><p class="p-white">sudo apt install software-properties-common</p><p class="p-white">sudo add-apt-repository ppa:ondrej/php</p><p class="p-white">sudo apt update</p><p class="p-white">sudo apt upgrade -y</p><p class="p-white">sudo apt install php7.4-fpm php7.4-common php7.4-mysql php7.4-xml php7.4-xmlrpc php7.4-curl php7.4-gd php7.4-imagick php7.4-cli php7.4-dev php7.4-imap php7.4-mbstring php7.4-soap php7.4-zip php7.4-bcmath -y</p><h4>Secure PHP-FRM</h4><p>PHP-FRM by default allows executing PHP file which is not on the server (this can be used for hacking), so we need to disable this option.</p><p>This can be done manually by php.in (located in /etc/php/7.4/fpm/php.ini) or by running following command:</p><p class="p-white">ls /etc/php/</p><p class="p-white">sed -i &lsquo;s/;cgi.fix_pathinfo=1/cgi.fix_pathinfo=0/g&rsquo; /etc/php/7.4/fpm/php.ini</p><p>Restart PHP-FRM:</p><p class="p-white">systemctl restart php7.4-fpm.service&nbsp;</p></div><div style="background: #13c270; color: #fff;"><div class="container"><h3>Install NGINX</h3><p class="p-black">sudo apt install nginx -y</p><p>To check if NGINX was successfully installed, visit your server IP address. The IP address for your server can be found by clicking on the droplet name. IPv4 value is your IP address as shown in the image below.&nbsp;</p><p>Note down IPv4 value as will use it again.</p><p><img loading="lazy" class="size-full wp-image-205 aligncenter" src="https://yadavgaurav.com/wp-content/uploads/2019/12/Droplet-Details.png" alt="Droplet Details DigitalOcean" width="792" height="440" srcset="https://yadavgaurav.com/wp-content/uploads/2019/12/Droplet-Details.png 792w,https://yadavgaurav.com/wp-content/uploads/2019/12/Droplet-Details-768x427.png 768w" sizes="(max-width: 792px) 100vw, 792px"></p><p>You will be greeted with a &ldquo;Welcome to NGNIX&rdquo; screen if NGNIX was installed successfully.</p></div></div><div class="container" style="background: #ddd;"><p>Now we need to assign proper permissions:</p><p class="p-white">chown -R www-data:www-data /var/www/yadavgaurav</p><p class="p-white">sudo chmod -R 755 /var/www/yadavgaurav</p><p>Firewall and Security:</p><p class="p-white">ufw enable</p><p class="p-white">ufw allow ssh</p><p class="p-white">ufw app info &ldquo;Nginx Full&rdquo;</p><p class="p-white">ufw allow &lsquo;Nginx Full&rsquo;</p><p>To check ufw is properly configured run following command:</p><p class="p-white">ufw status</p><p>The result should be something like this:</p><p><img loading="lazy" class="size-full wp-image-240 aligncenter" src="https://yadavgaurav.com/wp-content/uploads/2020/01/status.jpg" alt="UFW status" width="481" height="207"></p><p class="p-white">service nginx restart</p></div><div class="container" style="background: #fff;"><h3>Nginx Server Block</h3><p>Now we need to configure Ngnix Server Block to properly point our domain and PHP configurations.</p><p>A server block in Ngnix is used to divide and separate configuration details and host more than one domain off of a single server.</p><p>If you want to understand Ngnix Server Block in details following link will be helpful:</p><ul><li><a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms">Understanding Nginx Server and Location Block Selection Algorithms</a></li><li><a href="https://www.nginx.com/resources/wiki/start/topics/examples/server_blocks/">Server Block Examples</a></li></ul><p>We will first delete the default files:</p><p class="p-grey">rm /etc/nginx/sites-available/default</p><p class="p-grey">rm /etc/nginx/sites-enabled/default</p><p>Now we need to create new block files:</p><p class="p-grey">cd /etc/nginx/sites-available/</p><p class="p-grey">nano example-com</p><p>This will create example-com (you can use a name more relevant to your domain) and open a file editor as nano is a file editor in ubuntu.</p></div><div class="container" style="background: #1943aa;"><pre class="wp-block-code"><code>server {
listen 80;
root /var/www/yadavgaurav;
index index.php index.html index.htm;
server_name example.com www.example.com;
client_max_body_size 0;

error_page 404 /404.html;
error_page 500 502 503 504 /50x.html;

location / {
try_files $uri $uri/ /index.php?q=$uri&amp;$args;
}

location ~* \.php$ {
if ($uri !~ "^/uploads/") {
fastcgi_pass unix:/run/php/php7.4-fpm.sock;
}
include fastcgi_params;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
fastcgi_param SCRIPT_NAME $fastcgi_script_name;
}
location = /favicon.ico {
log_not_found off;
access_log off;
}

location = /robots.txt {
log_not_found off;
access_log off;
allow all;
}

location ~* .(css|gif|ico|jpeg|jpg|js|png|webp)$ {
expires 1y;
log_not_found off;
}

location ~ \.user\.ini$ {
deny all;
}

# Enable Gzip compression.
gzip on;

# Disable Gzip on IE6.
gzip_disable "msie6";

# Allow proxies to cache both compressed and regular versions of the file.
# Avoids clients that don't support Gzip outputting gibberish.
gzip_vary on;

# Compress data, even when the client connects through a proxy.
gzip_proxied any;

# The level of compression to apply to files. A higher compression level increases
# CPU usage. Level 5 is a happy medium resulting in roughly 75% compression.
gzip_comp_level 5;

# Compress the following MIME types.
gzip_types
	application/atom+xml
	application/javascript
	application/json
	application/ld+json
	application/manifest+json
	application/rss+xml
	application/vnd.geo+json
	application/vnd.ms-fontobject
	application/x-font-ttf
	application/x-web-app-manifest+json
	application/xhtml+xml
	application/xml
	font/opentype
	image/bmp
	image/svg+xml
	image/x-icon
	text/cache-manifest
	text/css
	text/plain
	text/vcard
	text/vnd.rim.location.xloc
	text/vtt
	text/x-component
	text/x-cross-domain-policy;
}</code></pre></div><div class="container" style="background: #ddd;"><p>To save the file Press CTRL+O and Enter key, then press CTRL+X.</p><p>Create Symbolic Links:</p><p class="p-white">ln -s /etc/nginx/sites-available/example-com /etc/nginx/sites-enabled/</p><p class="p-white">sudo nginx -t</p><p class="p-white">service nginx restart</p><p class="p-white">systemctl restart php7.4-fpm.service</p><p class="p-white">systemctl restart mysql</p><p class="p-white">apt-get update</p><p>Now its time to update your DNS setting, to do so login to your domain registrar (Godaddy,&nbsp;<a href="https://www.bluehost.com/track/pokegym/" target="_blank" rel="noopener noreferrer">Bluehost</a>,&nbsp;<a href="http://www.kqzyfj.com/click-8356529-13943654" target="_blank" rel="noopener noreferrer">Namecheap</a>, etc.) and change name servers.</p><p class="p-white">ns1.digitalocean.com</p><p class="p-white">ns2.digitalocean.com</p><p class="p-white">ns3.digitalocean.com</p><p>Now add your domain to your droplet and add the following records.</p><p>A record from example.com which points to server IP</p><p class="p-white">Record type: A<br>HOSTNAME: @<br>WILL DIRECT TO: Server IP (IPv4)<br>Click &ldquo;Create Record&rdquo;</p><p class="p-white">Record type: A<br>HOSTNAME: www<br>WILL DIRECT TO: Server IP (IPv4)<br>Click &ldquo;Create Record&rdquo;</p><h3>Install Let&rsquo;s Encrypt SSL Certificate</h3><p class="p-white">add-apt-repository ppa:certbot/certbot</p><p class="p-white">apt-get update</p><p class="p-white">apt-get install python-certbot-nginx</p><p class="p-white">certbot &ndash;nginx -d example.com -d www.example.com</p></div><div style="background: #00a69e; color: #fff;"><div class="container"><h2>Install WordPress</h2><p>The following command will install WordPress in &ldquo;html&rdquo; directory, you can change it you want but the directory should be inside the &ldquo;www&rdquo; directory.</p><p class="p-black">cd /var/www/yadavgaurav</p><p class="p-black">wget https://wordpress.org/latest.tar.gz</p><p class="p-black">tar -xvzf latest.tar.gz</p><p class="p-black">mv -v wordpress/* /var/www/yadavgaurav</p><p class="p-black">rm -rf index.nginx-debian.html latest.tar.gz wordpress</p><p class="p-black">chown -R www-data:www-data /var/www/</p><p class="p-black">sudo chmod -R 755 /var/www</p><p>We are done with the server configuration.</p><p>Visit your domain address (example.com) and you will see the WordPress famous 5 mins install.</p><p>When you click on &ldquo;Let&rsquo;s Go&rdquo; it will ask for database information we created with &ldquo;grant all on wordpress.* to gaurav@localhost identified by &lsquo;wUt7xg3K5DVWgP6P&rsquo;;&rdquo;. Database Name is &ldquo;wordpress&rdquo;, Username is &ldquo;gaurav&rdquo; and the password is &ldquo;wUt7xg3K5DVWgP6P&rdquo;.</p><p>Run the installation and create an admin username and password. We are all done, your website is now up and running.</p></div></div><div class="container" style="background: #fff;"><h3>Optional Configuration</h3><p>PHP Configuration for running WordPress smoothly:</p><p>File location /etc/php/7.4/fpm/php.ini</p><p class="p-grey">max_execution_time Change 30 to 300<br>max_input_time Change 60 to 600<br>memory_limit Changeset to 128M to 256M<br>post_max_size Change 8M to 64M<br>upload_max_filesize Change 2M to 32M</p><p>Restart PHP-FRM and NGNIX</p><p class="p-grey">sudo service php7.4-fpm reload</p><p class="p-grey">sudo service nginx reload</p><h3>Installing Another Website On the Same Server</h3><p>For this we need to create a new directory in /var/www/</p><p class="p-grey">cd /var/www/</p><p class="p-grey">mkdir examplenew</p><p class="p-grey">wget https://wordpress.org/latest.tar.gz</p><p class="p-grey">tar -xvzf latest.tar.gz</p><p class="p-grey">mv -v wordpress/* /var/www/examplenew</p><p class="p-grey">rm -rf index.nginx-debian.html latest.tar.gz wordpress</p><p class="p-grey">chown -R www-data:www-data /var/www/examplenew</p><p class="p-grey">sudo chmod -R 755 /var/www/examplenew</p><p>Create a new server block</p><p class="p-grey">cd /etc/nginx/sites-available/</p><p class="p-grey">nano examplenew-com</p><p>Add server info, create a new database, and install SSL as we did them before.</p><p>If you need help regarding anything, then do leave a comment and we will get back to you as soon as possible.</p></div></div></article><div class="share-buttons gy-grid container"><div class="share-twitter"> <a href="https://twitter.com/intent/tweet?text=Install%20WordPress%20Nginx%20(LEMP)%20on%20DigitalOcean&amp;url=https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/?sb&amp;via=gauarvyadav26" target="_blank"> <svg id="twitter" data-name="twitter" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 58.1 47.2"><title>twitter</title> <path d="M54.86,20.19v1.55c0,15.74-12,33.88-33.88,33.88A33.64,33.64,0,0,1,2.74,50.27a24.55,24.55,0,0,0,2.88.15A23.84,23.84,0,0,0,20.4,45.33,11.93,11.93,0,0,1,9.27,37.07a15,15,0,0,0,2.25.18,12.58,12.58,0,0,0,3.13-.41A11.91,11.91,0,0,1,5.1,25.17V25a12,12,0,0,0,5.38,1.51A11.92,11.92,0,0,1,6.8,10.61,33.84,33.84,0,0,0,31.35,23.06a13.44,13.44,0,0,1-.29-2.73,11.92,11.92,0,0,1,20.61-8.15,23.43,23.43,0,0,0,7.56-2.87A11.87,11.87,0,0,1,54,15.88,23.87,23.87,0,0,0,60.84,14,25.59,25.59,0,0,1,54.86,20.19Z" transform="translate(-2.74 -8.42)"></path> </svg><p>Tweet</p> </a></div><div class="share-facebook"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/?sb" target="_blank"> <svg id="facebook" data-name="facebook" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30.61 59.03"><title>facebook</title> <path d="M47.2,12.76H41.63c-4.36,0-5.18,2.09-5.18,5.11v6.71h10.4l-1.38,10.5h-9V62H25.59V35.07h-9V24.57h9V16.84c0-9,5.5-13.87,13.52-13.87a69.4,69.4,0,0,1,8.09.43Z" transform="translate(-16.59 -2.97)"></path> </svg><p>Share</p> </a></div><div class="share-pinterest"> <a href="http://pinterest.com/pin/create/button/?url=https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/?sb&amp;media=https://yadavgaurav.com/wp-content/uploads/2020/01/Install-WordPress-Nginx-LEMP-DigitalOcean.svg&amp;description=Install%20WordPress%20Nginx%20(LEMP)%20on%20DigitalOcean" target="_blank"> <svg id="pinterest" data-name="pinterest" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 61.48 61.48"><title>pinterest</title> <path d="M31.78,63a30.1,30.1,0,0,1-8.73-1.28,25.52,25.52,0,0,0,3.12-6.56s.36-1.36,2.16-8.45c1,2,4.16,3.84,7.48,3.84,9.89,0,16.61-9,16.61-21.09,0-9.09-7.72-17.61-19.49-17.61C18.37,11.83,11,22.32,11,31c0,5.28,2,10,6.28,11.77a1.06,1.06,0,0,0,1.52-.8c.16-.52.48-1.88.64-2.44A1.51,1.51,0,0,0,19,37.85a8.93,8.93,0,0,1-2-6C17,24,22.77,17.07,32.1,17.07c8.24,0,12.81,5,12.81,11.81,0,8.85-3.92,16.33-9.77,16.33a4.76,4.76,0,0,1-4.84-5.92C31.22,35.41,33,31.2,33,28.4c0-2.52-1.36-4.64-4.16-4.64-3.28,0-5.92,3.4-5.92,8a12.81,12.81,0,0,0,1,4.88c-3.36,14.25-4,16.73-4,16.73a26.94,26.94,0,0,0-.52,7.08A30.77,30.77,0,1,1,31.78,63Z" transform="translate(-1.04 -1.5)"></path> </svg><p>Pin</p> </a></div></div><div id="comments"><h2 class="comments-title"> 4 thoughts on &ldquo;<span>Install WordPress Nginx (LEMP) on DigitalOcean</span>&rdquo;</h2><ol class="comment-list"><li class="comment even thread-even depth-1 parent" id="comment-5"><div id="div-comment-5" class="comment-body"><div class="comment-author vcard"> <cite class="fn">ALabz</cite></div><p></p><p>Great content! Great WordPress Nginx (LEMP) on DigitalOcean Guide! Keep it up!</p><div class="reply"><a rel="nofollow" class="comment-reply-link" href="#comment-5" data-commentid="5" data-postid="190" data-belowelement="div-comment-5" data-respondelement="respond" data-replyto="Reply to ALabz" aria-label="Reply to ALabz">Reply</a></div></div><ul class="children"><li class="comment byuser comment-author-gauravyadav bypostauthor odd alt depth-2" id="comment-6"><div id="div-comment-6" class="comment-body"><div class="comment-author vcard"> <cite class="fn">Gaurav Yadav</cite></div><p></p><p>Thanks</p><div class="reply"><a rel="nofollow" class="comment-reply-link" href="#comment-6" data-commentid="6" data-postid="190" data-belowelement="div-comment-6" data-respondelement="respond" data-replyto="Reply to Gaurav Yadav" aria-label="Reply to Gaurav Yadav">Reply</a></div></div></li></ul></li><li class="comment even thread-odd thread-alt depth-1 parent" id="comment-8"><div id="div-comment-8" class="comment-body"><div class="comment-author vcard"> <cite class="fn">Abhishek Beniwal</cite></div><p></p><p>How do we update from ubuntu 18.04 to 20.04</p><div class="reply"><a rel="nofollow" class="comment-reply-link" href="#comment-8" data-commentid="8" data-postid="190" data-belowelement="div-comment-8" data-respondelement="respond" data-replyto="Reply to Abhishek Beniwal" aria-label="Reply to Abhishek Beniwal">Reply</a></div></div><ul class="children"><li class="comment byuser comment-author-gauravyadav bypostauthor odd alt depth-2" id="comment-9"><div id="div-comment-9" class="comment-body"><div class="comment-author vcard"> <cite class="fn">Gaurav Yadav</cite></div><p></p><p>I will write a separate article for that.</p><div class="reply"><a rel="nofollow" class="comment-reply-link" href="#comment-9" data-commentid="9" data-postid="190" data-belowelement="div-comment-9" data-respondelement="respond" data-replyto="Reply to Gaurav Yadav" aria-label="Reply to Gaurav Yadav">Reply</a></div></div></li></ul></li></ol><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://yadavgaurav.com/wordpress-ngnix-lemp-digitalocean/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://yadavgaurav.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><textarea id="comment" name="comment" placeholder="Write a Comment" cols="45" rows="3" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><input id="author" name="author" type="text" placeholder="Name" value="" size="30" maxlength="245" aria-required="true" required="required"></p><p class="comment-form-email"><input id="email" name="email" placeholder="Email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required="required"></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="190" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p></form></div></div></main></div><section class="action-call"><div class="container clear"><div class="gy-grid grid-3" id="grid-3"><h2>Let's Work Together</h2><p>Have a project in mind?</p><div class="contact-footer"><a href="https://yadavgaurav.com/contact/">Get In Touch</a></div></div></div></section><footer id="colophon" class="site-footer"><div class="h-cont gy-grid grid-2" style="padding-bottom:20px"><div class="action-c"> <a href="https://yadavgaurav.com/" rel="home"><img src="https://yadavgaurav.com/wp-content/themes/svg/GY.svg" width="64" height="64" alt="Gaurav Yadav"></a><p>Web Designer &amp; Developer</p></div><div class="social-l"><h3>Follow Us Around</h3><div><a href="https://www.facebook.com/Gaurav-Yadav-102223064853375/"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="#fff"><path d="M16 3.98h2.19V.17a28.3 28.3 0 00-3.2-.17c-3.15 0-5.32 1.99-5.32 5.64V9H6.2v4.27h3.48V24h4.28V13.27h3.34L17.82 9h-3.87V6.06c0-1.23.33-2.08 2.05-2.08z"></path></svg></a></div><div><a href="https://www.linkedin.com/in/yadav-gaurav/"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 68 68"><circle cx="10" cy="10" r="8" fill="#fff"></circle><path d="M2.5 22.5h13.7v41.2H2.5V22.5zm47.4-.9c-7.4 0-12.4 6.9-12.4 6.9v-6H23.8v41.2h13.7v-23c0-1.2.1-2.5.5-3.3 1-2.5 3.2-5 7-5 5 0 7 3.8 7 9.3v22h13.7V40.1c0-12.6-6.8-18.5-15.8-18.5z" fill="#fff"></path></svg></a></div><div><a href="https://twitter.com/gauravyadav26"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 68 68"><path d="M22 60c24 0 38-20 38-37v-2l6-7-7 2c2-1 4-4 5-7-2 1-5 3-8 3-2-2-6-4-10-4a13 13 0 00-12 16c-11 0-21-6-28-14a13 13 0 00-1 7c0 5 2 9 5 11l-6-2c1 7 5 12 11 13a13 13 0 01-6 1c2 5 7 9 12 9-4 3-10 5-16 5H2c6 4 13 6 20 6" fill="#fff"></path></svg></a></div></div></div><div class="site-info"><div class="h-cont"> <span class="sep">Gaurav Yadav</span> <span class="copyright">&copy; 2020 All Rights Reserved</span><div class="lang-f"></div></div></div></footer></div> <script defer src="https://yadavgaurav.com/wp-content/cache/autoptimize/js/autoptimize_9240cef3bd39619be77f3b4c3284159c.js"></script></div></body></html>
